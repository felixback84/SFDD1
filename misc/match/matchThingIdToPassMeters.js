// const all = {
//     mtsBetweenDevicesToProducts : [
//         {"thingId":"bibidise-staticHeartbeat-2WUdDyX4NdeZrBt0deYC","meters":68.47271498989724},
//         {"thingId":"garciala-staticHeartbeat-958MuU7EdvyC4yX8WhLB","meters":57.71957250760197},
//         {"meters":57.71957250760197,"thingId":"garciala-staticHeartbeat-958MuU7EdvyC4yX8WhLB"},
//         {"thingId":"jobsIdiot-staticHeartbeat-8d0flrPyLBkGJfgMvcJm","meters":55.59682701141582},
//         {"meters":55.59682701141582,"thingId":"jobsIdiot-staticHeartbeat-8d0flrPyLBkGJfgMvcJm"}
//     ],

//     itemJSx : [
//         {
//             "thingId":"bibidise-staticHeartbeat-2WUdDyX4NdeZrBt0deYC",
//             "coords":{"hash":"d2g667z3tzuh","lon":-74.070602,"nameOfPoint":"bibidisePosition","lat":4.635157},
//             "products":{
//                 "productId":"957Gw3bGoneov5aGg2Qj",
//                 "price":1000,
//                 "imgUrl":"https://firebasestorage.googleapis.com/v0/b/sfdd-d8a16.appspot.com/o/products%2Fbatman.jpg?alt=media&token=6fa8ac8e-1e22-4c68-98f6-d3cf01cc4cb1",
//                 "staticDeviceProperty":"bibidise-staticHeartbeat-2WUdDyX4NdeZrBt0deYC",
//                 "category":"dcHeros",
//                 "name":"batman - bibidise",
//                 "tags":"batman",
//                 "description":"big guy with alcohol problems - bibidise",
//                 "createdAt":"2021-03-19T17:02:24.335Z",
//                 "familyOfDevices":"Heartbeat"
//             }
//         },
//         {"products":{"staticDeviceProperty":"jobsIdiot-staticHeartbeat-8d0flrPyLBkGJfgMvcJm","imgUrl":"https://firebasestorage.googleapis.com/v0/b/sfdd-d8a16.appspot.com/o/products%2Fsnake.jpg?alt=media&token=22b50b24-bd74-45ce-83fe-6fe14620d62e","category":"pets","familyOfDevices":"Heartbeat","productId":"2N8FVC8qpBItpWBhjL2f","createdAt":"2021-03-19T18:41:16.080Z","tags":"snake","name":"snake - jobsIdiot","price":70,"description":"whatever text here - jobsIdiot"},"thingId":"jobsIdiot-staticHeartbeat-8d0flrPyLBkGJfgMvcJm","coords":{"nameOfPoint":"jobsIdiotPosition","lon":-74.070913,"lat":4.634837,"hash":"d2g667xpyshp"}},{"products":{"createdAt":"2021-03-19T18:42:17.201Z","productId":"Oun7l3Q7aBRkiZ3D9PtY","price":50,"familyOfDevices":"Heartbeat","imgUrl":"https://firebasestorage.googleapis.com/v0/b/sfdd-d8a16.appspot.com/o/products%2Fspider.jpg?alt=media&token=ca5ba1c3-6069-4650-8a37-4e9fa24f6ad3","category":"pets","staticDeviceProperty":"jobsIdiot-staticHeartbeat-8d0flrPyLBkGJfgMvcJm","name":"spider - jobsIdiot","tags":"spider","description":"whatever text here - jobsIdiot"},"thingId":"jobsIdiot-staticHeartbeat-8d0flrPyLBkGJfgMvcJm","coords":{"lat":4.634837,"hash":"d2g667xpyshp","nameOfPoint":"jobsIdiotPosition","lon":-74.070913}},{"thingId":"garciala-staticHeartbeat-958MuU7EdvyC4yX8WhLB","products":{"staticDeviceProperty":"garciala-staticHeartbeat-958MuU7EdvyC4yX8WhLB","category":"dcHeros","tags":"batman","productId":"6rLxIX4iuKpPqOFIoMGc","createdAt":"2021-03-19T18:50:43.772Z","imgUrl":"https://firebasestorage.googleapis.com/v0/b/sfdd-d8a16.appspot.com/o/products%2Fbatman.jpg?alt=media&token=6fa8ac8e-1e22-4c68-98f6-d3cf01cc4cb1","name":"batman - garciala","price":1190,"familyOfDevices":"Heartbeat","description":"whatever text here - garciala"},"coords":{"lon":-74.070752,"nameOfPoint":"garcialaPosition","hash":"d2g667z2f7s1","lat":4.635005}},{"thingId":"garciala-staticHeartbeat-958MuU7EdvyC4yX8WhLB","coords":{"lon":-74.070752,"lat":4.635005,"hash":"d2g667z2f7s1","nameOfPoint":"garcialaPosition"},"products":{"createdAt":"2021-03-19T19:04:06.670Z","tags":"hamster","imgUrl":"https://firebasestorage.googleapis.com/v0/b/sfdd-d8a16.appspot.com/o/products%2Fhamster.jpg?alt=media&token=7cd81f4a-2752-4cac-9be8-2e0b7a399bc2","name":"hamster - garciala","familyOfDevices":"Heartbeat","productId":"BQoHuIlIYZ2KnggiKaYx","description":"whatever text here - garciala","price":12.3,"staticDeviceProperty":"garciala-staticHeartbeat-958MuU7EdvyC4yX8WhLB","category":"pets"}}
//     ]
// }

const mtsBetweenDevicesToProducts = [
        {"thingId":"bibidise-staticHeartbeat-2WUdDyX4NdeZrBt0deYC","meters":68.47271498989724},
        {"thingId":"garciala-staticHeartbeat-958MuU7EdvyC4yX8WhLB","meters":57.71957250760197},
        {"meters":57.71957250760197,"thingId":"garciala-staticHeartbeat-958MuU7EdvyC4yX8WhLB"},
        {"thingId":"jobsIdiot-staticHeartbeat-8d0flrPyLBkGJfgMvcJm","meters":55.59682701141582},
        {"meters":55.59682701141582,"thingId":"jobsIdiot-staticHeartbeat-8d0flrPyLBkGJfgMvcJm"}
    ]

const itemJSx = [
        {
            "thingId":"bibidise-staticHeartbeat-2WUdDyX4NdeZrBt0deYC",
            "coords":{"hash":"d2g667z3tzuh","lon":-74.070602,"nameOfPoint":"bibidisePosition","lat":4.635157},
            "products":{
                "productId":"957Gw3bGoneov5aGg2Qj",
                "price":1000,
                "imgUrl":"https://firebasestorage.googleapis.com/v0/b/sfdd-d8a16.appspot.com/o/products%2Fbatman.jpg?alt=media&token=6fa8ac8e-1e22-4c68-98f6-d3cf01cc4cb1",
                "staticDeviceProperty":"bibidise-staticHeartbeat-2WUdDyX4NdeZrBt0deYC",
                "category":"dcHeros",
                "name":"batman - bibidise",
                "tags":"batman",
                "description":"big guy with alcohol problems - bibidise",
                "createdAt":"2021-03-19T17:02:24.335Z",
                "familyOfDevices":"Heartbeat"
            }
        },
        {
            "products":{
                "staticDeviceProperty":"jobsIdiot-staticHeartbeat-8d0flrPyLBkGJfgMvcJm",
                "imgUrl":"https://firebasestorage.googleapis.com/v0/b/sfdd-d8a16.appspot.com/o/products%2Fsnake.jpg?alt=media&token=22b50b24-bd74-45ce-83fe-6fe14620d62e",
                "category":"pets",
                "familyOfDevices":"Heartbeat",
                "productId":"2N8FVC8qpBItpWBhjL2f",
                "createdAt":"2021-03-19T18:41:16.080Z",
                "tags":"snake",
                "name":"snake - jobsIdiot",
                "price":70,
                "description":"whatever text here - jobsIdiot"
            },
            "thingId":"jobsIdiot-staticHeartbeat-8d0flrPyLBkGJfgMvcJm",
            "coords":{"nameOfPoint":"jobsIdiotPosition","lon":-74.070913,"lat":4.634837,"hash":"d2g667xpyshp"}
        },
        {
            "products":{
                "createdAt":"2021-03-19T18:42:17.201Z",
                "productId":"Oun7l3Q7aBRkiZ3D9PtY",
                "price":50,"familyOfDevices":"Heartbeat",
                "imgUrl":"https://firebasestorage.googleapis.com/v0/b/sfdd-d8a16.appspot.com/o/products%2Fspider.jpg?alt=media&token=ca5ba1c3-6069-4650-8a37-4e9fa24f6ad3",
                "category":"pets",
                "staticDeviceProperty":"jobsIdiot-staticHeartbeat-8d0flrPyLBkGJfgMvcJm",
                "name":"spider - jobsIdiot",
                "tags":"spider",
                "description":"whatever text here - jobsIdiot"
            },
            "thingId":"jobsIdiot-staticHeartbeat-8d0flrPyLBkGJfgMvcJm",
            "coords":{"lat":4.634837,"hash":"d2g667xpyshp","nameOfPoint":"jobsIdiotPosition","lon":-74.070913}
        },
        {
            "thingId":"garciala-staticHeartbeat-958MuU7EdvyC4yX8WhLB",
            "products":{
                "staticDeviceProperty":"garciala-staticHeartbeat-958MuU7EdvyC4yX8WhLB",
                "category":"dcHeros",
                "tags":"batman",
                "productId":"6rLxIX4iuKpPqOFIoMGc",
                "createdAt":"2021-03-19T18:50:43.772Z",
                "imgUrl":"https://firebasestorage.googleapis.com/v0/b/sfdd-d8a16.appspot.com/o/products%2Fbatman.jpg?alt=media&token=6fa8ac8e-1e22-4c68-98f6-d3cf01cc4cb1",
                "name":"batman - garciala",
                "price":1190,
                "familyOfDevices":"Heartbeat",
                "description":"whatever text here - garciala"
            },
            "coords":{"lon":-74.070752,"nameOfPoint":"garcialaPosition","hash":"d2g667z2f7s1","lat":4.635005}
        },
        {
            "thingId":"garciala-staticHeartbeat-958MuU7EdvyC4yX8WhLB",
            "coords":{"lon":-74.070752,"lat":4.635005,"hash":"d2g667z2f7s1","nameOfPoint":"garcialaPosition"},
            "products":{
                "createdAt":"2021-03-19T19:04:06.670Z",
                "tags":"hamster",
                "imgUrl":"https://firebasestorage.googleapis.com/v0/b/sfdd-d8a16.appspot.com/o/products%2Fhamster.jpg?alt=media&token=7cd81f4a-2752-4cac-9be8-2e0b7a399bc2",
                "name":"hamster - garciala",
                "familyOfDevices":"Heartbeat",
                "productId":"BQoHuIlIYZ2KnggiKaYx",
                "description":"whatever text here - garciala",
                "price":12.3,"staticDeviceProperty":"garciala-staticHeartbeat-958MuU7EdvyC4yX8WhLB",
                "category":"pets"
            }
        }
    ]

// length
console.log(`lengths:${mtsBetweenDevicesToProducts.length}-${itemJSx.length}`)    

// var to hold results
const allData = []
// cback
const findEqual = (JSx) => {
    // loop
    mtsBetweenDevicesToProducts.forEach((item) => {
        // checker
        if(JSx.thingId === item.thingId){
            allData.push({
                coords:JSx.coords,
                products:JSx.products,
                thingId:JSx.thingId,
                meters:item.meters
            })
            return allData
        }
    })    
}
// run find method to establish a relation between the two arrays 
let find = itemJSx.find(findEqual)

//to eliminate duplicates of coords
const removeDuplicates = async (arr) => {
    // to string
    const jsonObject = arr.map(JSON.stringify);
    // find repeats
    const uniqueSet = new Set(jsonObject);
    // write arr
    const uniqueArray = Array.from(uniqueSet).map(JSON.parse); 
    //print
    //console.log(`uniqueArray:${JSON.stringify(uniqueArray)}`)   
    // return arr
    return uniqueArray
}
//run it & hold it to remove duplicates in coords
removeDuplicates(allData).then((uniqueArray)=>{
    //print
    console.log(`uniqueArray:${JSON.stringify(uniqueArray)}`) 
})


